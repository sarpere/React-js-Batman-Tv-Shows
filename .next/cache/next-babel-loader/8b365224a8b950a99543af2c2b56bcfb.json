{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar __jsx = React.createElement;\nimport Layout from '../components/MyLayout.js';\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from 'redux';\nimport axios from 'axios';\nimport { setTvShowsDetails } from '../store';\n\nvar Post =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Post, _Component);\n\n  function Post() {\n    _classCallCheck(this, Post);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Post).apply(this, arguments));\n  }\n\n  _createClass(Post, [{\n    key: \"render\",\n    value: function render() {\n      var data = this.props.tvShows_Details[\"\".concat(this.props.id)];\n      return data ? __jsx(Layout, null, __jsx(\"h1\", null, data.name), __jsx(\"div\", {\n        className: \"Show__Image\"\n      }, __jsx(\"img\", {\n        src: data.image.medium\n      })), __jsx(\"div\", {\n        className: \"Show__Info\"\n      }, __jsx(\"p\", null, data.summary.replace(/<[/]?p>/g, '')), __jsx(\"div\", {\n        className: \"Show__Info__Inner\"\n      }, __jsx(\"div\", null, \"Premiered \", data.premiered), data.rating.average && __jsx(\"div\", null, \"Rating: \", data.rating.average)))) : __jsx(\"div\", {\n        className: \"Error__massage\"\n      }, \"Not Available Data\");\n    }\n  }]);\n\n  return Post;\n}(Component);\n\nPost.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(context) {\n    var store, id, res, show;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            store = context.store;\n            id = context.query.id;\n\n            if (!store.getState().tvShows_Details) {\n              _context.next = 5;\n              break;\n            }\n\n            if (!store.getState().tvShows_Details[\"\".concat(id)]) {\n              _context.next = 5;\n              break;\n            }\n\n            return _context.abrupt(\"return\", {\n              id: id\n            });\n\n          case 5:\n            _context.next = 7;\n            return axios.get(\"https://api.tvmaze.com/shows/\".concat(id));\n\n          case 7:\n            res = _context.sent;\n            _context.next = 10;\n            return res.data;\n\n          case 10:\n            show = _context.sent;\n            store.dispatch(setTvShowsDetails(id, show));\n            return _context.abrupt(\"return\", {\n              id: id\n            });\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar mapStateToProps = function mapStateToProps(_ref2) {\n  var tvShows_Details = _ref2.tvShows_Details;\n  return {\n    tvShows_Details: tvShows_Details\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    setTvShowsDetails: bindActionCreators(setTvShowsDetails, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Post);","map":null,"metadata":{},"sourceType":"module"}