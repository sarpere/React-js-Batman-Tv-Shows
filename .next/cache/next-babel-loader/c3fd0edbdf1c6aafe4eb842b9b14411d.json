{"ast":null,"code":"var __jsx = React.createElement;\nimport Layout from '../components/MyLayout.js';\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from 'redux';\nimport axios from 'axios';\nimport { setTvShowsDetails } from '../store';\n\nclass Post extends Component {\n  render() {\n    const data = this.props.tvShows_Details[`${this.props.id}`];\n    return data ? __jsx(Layout, null, __jsx(\"h1\", null, data.name), __jsx(\"div\", {\n      className: \"Show__Image\"\n    }, __jsx(\"img\", {\n      src: data.image.medium\n    })), __jsx(\"div\", {\n      className: \"Show__Info\"\n    }, __jsx(\"p\", null, data.summary.replace(/<[/]?p>/g, '')), __jsx(\"div\", {\n      className: \"Show__Info__Inner\"\n    }, __jsx(\"div\", null, \"Premiered \", data.premiered), data.rating.average && __jsx(\"div\", null, \"Rating: \", data.rating.average)))) : __jsx(\"div\", {\n      className: \"Error__massage\"\n    }, \"Not Available Data\");\n  }\n\n}\n\nPost.getInitialProps = async function (context) {\n  const {\n    store\n  } = context;\n  const {\n    id\n  } = context.query;\n  if (store.getState().tvShows_Details) if (store.getState().tvShows_Details[`${id}`]) return {\n    id: id\n  };\n  const res = await axios.get(`https://api.tvmaze.com/shows/${id}`);\n  const show = await res.data;\n  store.dispatch(setTvShowsDetails(id, show));\n  return {\n    id: id\n  };\n};\n\nconst mapStateToProps = ({\n  tvShows_Details\n}) => ({\n  tvShows_Details\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setTvShowsDetails: bindActionCreators(setTvShowsDetails, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Post);","map":null,"metadata":{},"sourceType":"module"}